#!/usr/bin/env node

var fs = require('fs')
var path = require('path')
var minimist = require('minimist')
var colors = require('colors')
var lib = require('../lib')
var homedir = require('os').homedir()

var args = minimist(process.argv.slice(2))

if (args.v || args.version) {
  console.log(require('../package.json').version)
  process.exit()
}

function drawLogo(){
  console.log()
  console.log()
  console.log(' ', '        '.bgWhite.black)
  console.log(' ', '  TIME  '.bgWhite.black,'  TRACKER'.white)
  console.log(' ', '        '.bgWhite.black)
  console.log()
  console.log()
}

if (!args._.length) {
  drawLogo()
  if(fs.existsSync(path.join(homedir, 'timet.json'))){
    lib.list()
  } else {
    lib.setup(function(){
      process.exit()
    })
  }
}
